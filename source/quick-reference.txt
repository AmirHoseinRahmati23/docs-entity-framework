.. _entity-framework-quick-reference:

===============
Quick Reference
===============

This page shows the provider syntax for several commands and links to
their related API documentation.

.. list-table::
   :header-rows: 1
   :widths: 25 75

   * - Command
     - Syntax

   * - | **Set up DBContext**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbcontext>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-db-context
          :end-before: // end-db-context
          :language: csharp
          :dedent:

   * - | **Find a Document**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.query.queryablemethods.firstordefaultwithpredicate>`__

     - .. io-code-block::
          :copyable: true

          .. input::
             :language: csharp

             var planet = db.Planets.FirstOrDefault(p => p.name == "Mercury");
             
             Console.WriteLine(planet.ToBsonDocument());

          .. output::
             :language: json

             { "_id" : ObjectId("..."), "name" : "Mercury", "orderFromSun" : 1,
             "hasRings" : false }

   * - | **Find Multiple Documents**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.query.queryablemethods.where>`__

     - .. io-code-block::
          :copyable: true

          .. input::
             :language: csharp

             var planets = db.Planets.Where(p => p.hasRings == true).ToList();
             
             foreach (var p in planets)
             {
                Console.WriteLine(p.ToBsonDocument());
             }

          .. output::
             :language: json

             { "_id" : ObjectId("..."), "name" : "Jupiter", "orderFromSun" : 5, "hasRings" : true }
             { "_id" : ObjectId("..."), "name" : "Uranus", "orderFromSun" : 7, "hasRings" : true }
             { "_id" : ObjectId("..."), "name" : "Saturn", "orderFromSun" : 6, "hasRings" : true }
             { "_id" : ObjectId("..."), "name" : "Neptune", "orderFromSun" : 8,
             "hasRings" : true }

   * - | **Insert a Document**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbcontext.add>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-insert-one
          :end-before: // end-insert-one
          :language: csharp
          :dedent:

   * - | **Insert Multiple Documents**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbcontext.addrange>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-insert-many
          :end-before: // end-insert-many
          :language: csharp
          :dedent:

   * - | **Update a Document**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbcontext.update>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-update-one
          :end-before: // end-update-one
          :language: csharp
          :dedent:

   * - | **Update Multiple Documents**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbcontext.updaterange>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-update-many
          :end-before: // end-update-many
          :language: csharp
          :dedent:

   * - | **Delete a Document**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbcontext.remove>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-delete-one
          :end-before: // end-delete-one
          :language: csharp
          :dedent:

   * - | **Delete Multiple Documents**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbcontext.removerange>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-delete-many
          :end-before: // end-delete-many
          :language: csharp
          :dedent:

   * - | **Set the Order in which to Retrieve Documents**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.query.queryablemethods.orderby>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-order-by
          :end-before: // end-order-by
          :language: csharp
          :dedent:

   * - | **Set Multiple Instructions to Order Retrieved Documents**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.query.queryablemethods.thenby>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-order-by-then-by
          :end-before: // end-order-by-then-by
          :language: csharp
          :dedent:

   * - | **Set the Number of Documents to Retrieve**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.query.queryablemethods.take>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-take
          :end-before: // end-take
          :language: csharp
          :dedent:

   * - | **Set the Number of Documents to Skip when Retrieving**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.query.queryablemethods.skip>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-skip
          :end-before: // end-skip
          :language: csharp
          :dedent:

   * - | **Project Document Fields When Retrieving Them**
       |
       | `API Documentation <https://learn.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.query.queryablemethods.select>`__

     - .. literalinclude:: /includes/code-examples/quick-reference.cs
          :start-after: // start-project
          :end-before: // end-project
          :language: csharp
          :dedent:
